{% extends "base.html" %}

{% block title %}Home - NBA Statistics{% endblock %}

{% block content %}

       
                    <div class="wrapper"> 
                        <div class="centered-container">
                                <h2>NBA Query Page</h2>
                                <form id="queryForm">
                                    <label>
                                        Select Query:
                                        <select id="queryType" onchange="showQueryForm()">
                                            <option value="query_delete">Query Delete</option>
                                            <option value="query_insert_player">Query Insert Player</option>
                                            <option value="query_update_age">Query Update</option>
                                        
                                        </select>
                                    </label>
                                </form> 
                                
                                    
                                
                                        
                                        <br/>
                                            <div id="query_delete_form" style="display: none;">
                                                <h1>Cancellazione Oggetto</h1>
                                                <form action="/query_delete" method="post">
                                                    <label for="id_oggetto">ID Oggetto che vuoi cancellare:</label>
                                                    <input type="text" id="id_oggetto" name="id_oggetto" required><br><br>
                                                    <button type="submit">Esegui Query</button>
                                                </form>
                                            
                                            </div>
                                        <br/>
                                            <div id="query_update_age_form" style="display: none;">
                                            <h1 >Digita il nome dell'oggetto di cui vuoi modificare gli anni</h1>
                                            <form action="/query_update_age" method="POST">
                                                <label for="nome_oggetto">Nome Oggetto:</label>
                                                <input type="text" id="nome_oggetto" name="nome_oggetto" required><br><br>
                                                
                                                <label for="nuovo_pts">Nuovi Anni:</label>
                                                <input type="number" id="nuovo_age" name="nuovo_age" required><br><br>
                                                
                                                <button type="submit">Esegui Query</button>
                                            </form>
                                            </div>

                                        
                                            <div class="container" id="query_insert_player_form" style="display: none;">
                                            <h1 >Inserisci un nuovo giocatore </h1>
                                            <form action="/query_insert" method="post">
                                                <div class="form-group">
                                                    <label for="_id">ID:</label>
                                                    <input type="number" id="id" name="id" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="player_name">Nome del giocatore:</label>
                                                    <input type="text" id="player_name" name="player_name" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="pos">Posizione:</label>
                                                    <input type="text" id="pos" name="pos" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="age">Et√†:</label>
                                                    <input type="number" id="age" name="age" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="team_abbreviation">Abbreviazione squadra:</label>
                                                    <input type="text" id="team_abbreviation" name="team_abbreviation" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="g">Partite giocate:</label>
                                                    <input type="number" id="g" name="g" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="mp">Minuti giocati:</label>
                                                    <input type="number" id="mp" name="mp" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="fg">Tiri dal campo realizzati:</label>
                                                    <input type="number" id="fg" name="fg" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="fga">Tiri dal campo tentati:</label>
                                                    <input type="number" id="fga" name="fga" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="fgp">Percentuale tiri dal campo realizzati:</label>
                                                    <input type="number" id="fgp" name="fgp" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="3p">Tiri da 3 realizzati:</label>
                                                    <input type="number" id="3p" name="3p" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="3pa">Tiri da 3 tentati:</label>
                                                    <input type="number" id="3pa" name="3pa" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="3pp">Percentuale tiri da 3 realizzati:</label>
                                                    <input type="number" id="3pp" name="3pp" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="2p">Tiri da 2 realizzati:</label>
                                                    <input type="number" id="2p" name="2p" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="2pa">Tiri da 2 tentati:</label>
                                                    <input type="number" id="2pa" name="2pa" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="2pp">Percentuale tiri da 2 realizzati:</label>
                                                    <input type="number" id="2pp" name="2pp" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="efg">Percentuale di tiri dal campo efficiente:</label>
                                                    <input type="number" id="efg" name="efg" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="ft">Tiri liberi realizzati:</label>
                                                    <input type="number" id="ft" name="ft" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="fta">Tiri liberi tentati:</label>
                                                    <input type="number" id="fta" name="fta" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="ftp">Percentuale tiri liberi realizzati:</label>
                                                    <input type="number" id="ftp" name="ftp" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="orb">Rimbalzi offensivi:</label>
                                                    <input type="number" id="orb" name="orb" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="drb">Rimbalzi difensivi:</label>
                                                    <input type="number" id="drb" name="drb" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="trb">Rimbalzi totali:</label>
                                                    <input type="number" id="trb" name="trb" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="ast">Assist:</label>
                                                    <input type="number" id="ast" name="ast" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="stl">Rubate:</label>
                                                    <input type="number" id="stl" name="stl" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="blk">Stoppate:</label>
                                                    <input type="number" id="blk" name="blk" step="0.1" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="pf">Falli fatti:</label>
                                                    <input type="number" id="pf" name="pf" required>
                                                </div>
                                                <div class="form-group">
                                                    <label for="pts">Punti:</label>
                                                    <input type="number" id="pts" name="pts" required>
                                                </div>
                                                <button type="submit">Esegui Query</button>
                                            </form>
                                            </div>
                                        
                                    
                                </div>
                                <br />
                                <div id="query_update_height_weight_form" style="display: none;">
                                    <h1 >Digita il nome dell'oggetto di cui vuoi modificare gli anni</h1>
                                    <form action="/query_update_height_weight" method="POST">
                                        <label for="nome_oggetto">Nome Oggetto:</label>
                                        <input type="text" id="nome_oggetto" name="nome_oggetto" required><br><br>
                                        
                                        <label for="nuovo_height">Nuova Altezza:</label>
                                        <input type="number" id="nuovo_height" name="nuovo_height" required><br><br>
                                        <label for="nuovo_weight">Nuova Peso:</label>
                                        <input type="number" id="nuovo_weight" name="nuovo_weight" required><br><br>
                                        
                                        <button type="submit">Esegui Query</button>
                                    </form>
                                </div>
                              

                                <script>
                                var lastSelectedOption = null;

                                function showQueryForm() {
                                    // Nascondi l'ultima opzione selezionata
                                    if (lastSelectedOption !== null) {
                                        document.getElementById(lastSelectedOption + "_form").style.display = "none";
                                    }

                                    // Mostra solo il form corrispondente all'opzione selezionata
                                    var selectedQuery = document.getElementById("queryType").value;
                                    document.getElementById(selectedQuery + "_form").style.display = "block";

                                    // Aggiorna l'ultima opzione selezionata
                                    lastSelectedOption = selectedQuery;
                                }
                                </script>


                                <div id="queryResults"></div> 
                                </main>
                            </div>
                        </div>
                        
{% endblock %}